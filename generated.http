POST http://localhost:8080/api/v2/auth
Content-Type: application/json

{
  "username": "user111",
  "password": "password111",
  "nick": "user111",
  "telegram": "user111",
  "role": "CUSTOMER"
}

### Test for user registration

POST http://localhost:8080/api/v2/auth
Content-Type: application/json

{
  "username": "testuser",
  "password": "password123"
}


### Test for getting authorization details (authenticated request)

GET http://localhost:8080/api/v2/auth
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJzdXBlcnVzZXIxIiwiaWQiOiIwNzU4ZmIyZi1mYjgxLTQ0OGYtOTFlNC00Yzk3YTg4YTdlZmMiLCJyb2xlcyI6WyJTVVBFUlZJU09SIl0sImV4cCI6MTczMjMxMzY1MH0._rRWyzSPwaQzGUm4a4mzlqF2ydgIpMGzLgp6Hq9rggpDnAjf6Y3JI42Z2Yi3mTkO7Y8BpT7sQme8uYRTQjeapg

###
 "access": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJzdXBlcnVzZXIxIiwiaWQiOiIzNzM3MjQ0Ny1hY2MyLTRhMGUtYWNmOS1kZWYxN2I5NGZkODUiLCJyb2xlIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMjE4MTI3OH0.ORMFzWUS4zEzqFSNMvUTAkHZLgKEM9K6dfxgnCfFybl0IfQH-mNnkxEMwNOrMuuzQoSyekPsbO-_0lKg46Mxbg",
  "refresh": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJzdXBlcnVzZXIxIiwiaWQiOiIzNzM3MjQ0Ny1hY2MyLTRhMGUtYWNmOS1kZWYxN2I5NGZkODUiLCJleHAiOjE3MzIyNjQwNzh9.va8VPC99qI8H-uoWxsmqJb-r5iRUVen6ge8FRGRm3NObL55guY65Qk64YE-NHp202plJfSnvb-fMRtDYwh8z9w"
}
### Test for user authorization (login)

POST http://localhost:8080/api/v2/auth/tokens
Content-Type: application/json

{
  "username": "user111",
  "password": "password111"
}


### Test for refreshing the authorization token

POST http://localhost:8080/api/v2/auth/tokens/refresh?refresh=<valid-refresh-token>
Authorization: Bearer <valid-access-token>

### Expected Response (Re-authorization)
HTTP/1.1 201 Created
Content-Type: application/json

{
  "accessToken": "<new-access-token>",
  "refreshToken": "<new-refresh-token>"
}

###
GET http://localhost:8080/api/v2/users/0758fb2f-fb81-448f-91e4-4c97a88a7efc
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJzdXBlcnVzZXIxIiwiaWQiOiIwNzU4ZmIyZi1mYjgxLTQ0OGYtOTFlNC00Yzk3YTg4YTdlZmMiLCJyb2xlcyI6WyJTVVBFUlZJU09SIl0sImV4cCI6MTczMjMxMzY1MH0._rRWyzSPwaQzGUm4a4mzlqF2ydgIpMGzLgp6Hq9rggpDnAjf6Y3JI42Z2Yi3mTkO7Y8BpT7sQme8uYRTQjeapg

###
 "access": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJzdXBlcnVzZXIxIiwiaWQiOiIzNzM3MjQ0Ny1hY2MyLTRhMGUtYWNmOS1kZWYxN2I5NGZkODUiLCJyb2xlIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMjE4MTc1N30.mdI8flT6TtJvGbAy4mLLDb4ij9gp3zZcDibxA5tTY_54eW8woynA5LB8MhgqCuiBr-QdxaHFA3b7BWoo-yv9Ew",
"refresh": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJzdXBlcnVzZXIxIiwiaWQiOiIzNzM3MjQ0Ny1hY2MyLTRhMGUtYWNmOS1kZWYxN2I5NGZkODUiLCJleHAiOjE3MzIyNjQ1NTd9.PrJdaXApcnCR9GEETpNXN1cnc7NKfeGsAp9RzeGV_1CcWN9-QaY9pzT0y74o_HA93Mheze9o4jaCL_nFn_mnKA"
}
###

{
  "id": "449b74f5-9030-4c25-8562-7e740ad8cb03",
  "username": "superuser1",
  "role": [
    "SUPERVISOR"
  ]
}